---
title: C칩mo agregar Font Awesome a un sitio web de Gatsby
author: Johnny Zabala
description: En este art칤culo, agregaremos Font Awesome a un sitio web de Gatsby y mostraremos el caso de uso para el complemento gatsby-plugin-fontawesome-css.
date: 2020-06-07T04:00:00Z
---

En esta art칤culo, te mostrar칠 c칩mo agregar Font Awesome a un sitio web de Gatsby.

## Inicio

Comencemos creando un proyecto de Gatsby y agregando todas las dependencias necesarias:

```bash
mkdir gatsby-fontawesome-example
cd gatsby-fontawesome-example
# Crea el archivo package.json
npm init -y
# Instala las dependencias de Gatsby y Font Awesome
npm i --save gatsby react react-dom
npm i --save @fortawesome/fontawesome-svg-core
npm i --save @fortawesome/free-solid-svg-icons
npm i --save @fortawesome/react-fontawesome
# Crea la p치gina de inicio
mkdir -p src/pages && touch src/pages/index.js
```

> Para m치s informaci칩n sobre c칩mo [crear un sitio web de Gatsby](https://www.gatsbyjs.org/docs/setting-up-gatsby-without-gatsby-new/) y [usar Font Awesome en una aplicaci칩n de React](https://fontawesome.com/how-to-use/on-the-web/using-with/react) consulte la documentaci칩n.

Agreguemos los siguientes scripts al `package.json`:

```json
"scripts": {
  "develop": "gatsby develop",
  "build": "gatsby build",
  "serve": "gatsby serve"
}
```

Y peguemos el siguiente c칩digo en el archivo `src/pages/index.js`:

```javascript
import React from 'react'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import {
  faCoffee,
  faAddressBook,
  faAirFreshener,
  faAmbulance,
  faAtom,
  faBus,
  faCoins,
  faDice,
} from '@fortawesome/free-solid-svg-icons'

const IndexPage = () => (
  <main
    style={{
      maxWidth: '608px',
      margin: '0 auto',
    }}
  >
    <h1 style={{ textAlign: 'center' }}>
      Gatsby Font Awesome example
    </h1>
    <div>
      <FontAwesomeIcon icon={faCoffee} size="1x" />
      <FontAwesomeIcon icon={faAddressBook} size="2x" />
      <FontAwesomeIcon icon={faAirFreshener} size="3x" />
      <FontAwesomeIcon icon={faAtom} size="4x" />
      <FontAwesomeIcon icon={faAmbulance} size="5x" />
      <FontAwesomeIcon icon={faBus} size="6x" />
      <FontAwesomeIcon icon={faCoins} size="7x" />
      <FontAwesomeIcon icon={faDice} size="8x" />
    </div>
  </main>
)

export default IndexPage
```

Aqu칤 importamos el componente `FontAwesomeIcon` y todos los 칤conos que usaremos (esta t칠cnica se llama [explicit import](https://github.com/FortAwesome/react-fontawesome#explicit-import), pero puedes usar [build a library](https://github.com/FortAwesome/react-fontawesome#build-a-library-to-reference-icons-throughout-your-app-more-conveniently) si lo prefieres). Renderizamos todos los 칤conos y colocamos la propiedad `size` para cambiarles el tama침o.

Ahora, corramos la aplicaci칩n para ver qu칠 tenemos. En la terminal ejecutamos: `npm run develop`. La aplicaci칩n deber칤a correr en la url [http://localhost:8000](http://localhost:8000).

![sitio web de ejemplo](./images/demo-site.png)

Se ve bien pero hay un problema. Para verlo, necesitamos ejecutar la versi칩n de producci칩n de la aplicaci칩n. Detengamos la aplicaci칩n y ejecutemos el siguiente comando: `npm run build && npm run serve`. La aplicaci칩n deber칤a correr en la url [http://localhost:9000](http://localhost:9000).

![versi칩n de producci칩n del sitio web de ejemplo](./images/demo-site-production.gif)

쯈u칠 est치 pasando aqu칤 游뱂 ? Haz clic derecho en la p치gina y selecciona _Ver c칩digo fuente de la p치gina_ (estoy usando Chrome). Busca el atributo `class` de las etiquetas `svg`. Ver치s que hay un mont칩n de clases. Ahora, ve a la etiqueta `header` e intente encontrar una etiqueta `style`. Debido a que Font Awesome inserta sus estilos cuando se ejecuta el c칩digo _JavaScript_, no hay ninguna. Y por esta raz칩n, cuando la p치gina carga, por una fracci칩n de segundo, los 칤conos est치n ah칤 sin estilos.

Solucionar este problema no es dif칤cil. Una soluci칩n podr칤a ser deshabilitar la [inserci칩n autom치tica de CSS](https://fontawesome.com/how-to-use/javascript-api/setup/configuration#autoaddcss) y configurar los estilos de los iconos manualmente usando las propiedades `className` y `style`.

```javascript
import { config } from '@fortawesome/fontawesome-svg-core'
// Deshabilita la inserci칩n autom치tica de CSS
config.autoAddCss = false

//...

<FontAwesomeIcon icon={faCoffee}
  className="YOUR-CLASSES"
  style={{
    // YOUR STYLES
  }}
/>
```

Otra soluci칩n podr칤a ser insertar los estilos en tiempo de compilaci칩n utilizando algunas de las [APIs de renderizado del servidor de Gatsby](https://www.gatsbyjs.org/docs/ssr-apis/). Y aunque hacer esto no ser칤a dif칤cil, no tenemos porqu칠 hacerlo. Ya existe un complemento que lo hace: [gatsby-plugin-fontawesome-css](https://github.com/jzabala/gatsby-plugin-fontawesome-css) (soy el autor del complemento).

Para usarlo, solo necesitamos instalar el complemento y agregarlo a `gatsby-config.js`.

```bash
# Instala el complemento
npm install --save gatsby-plugin-fontawesome-css
# Crea un archivo llamado gatsby-config.js en la carpeta ra칤z
touch gatsby-config.js
```

Abramos `gatsby-config.js` y peguemos:

```javascript
module.exports = {
  plugins: [`gatsby-plugin-fontawesome-css`],
}
```

> [Repositorio](https://github.com/jzabala/gatsby-plugin-fontawesome-css/tree/master/example) del proyecto de ejemplo.

Y eso es todo. Ahora la aplicaci칩n funcionara como se espera en modo de desarrollo y producci칩n. 춰Disfruta!